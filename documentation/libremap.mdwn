"LibreMap is a scalable, global and decentralized router database and map visualization for community networks, such as guifi, Altermundi, FunkFeuer, ninux, freifunk, Commotion... It emerged around the is4cwn by merging the maps of AlterMap (Altermundi) and OpenWiFiMap (freifunk)."

* [[https://github.com/libremap/]] ("libremap-api" does the backend stuff, "libremap-webui" does the front end)
* [[http://libremap.net/]]
* [[http://libre-mesh.github.io/libremap-talk-2013-is4cwn/]]

# Installation on Debian (unstable/jessie)

## CouchDB and GeoCouch installation

We will need to compile 'geocouch' manually, since it is not yet packaged in Debian.

Install dependancies to build geocouch from source:

<pre>
sudo apt-get install build-essential erlang libicu-dev libmozjs-dev libcurl4-openssl-dev \
 libtool automake checkinstall couchdb
</pre>

Install the couchdb source:

<pre>
mkdir ~/src
cd ~/src
apt-get source couchdb
</pre>

Download the geocouch source:

<pre>
cd ~/src
git clone https://github.com/couchbase/geocouch.git
</pre>

Compile (NB: change 1.4.0 below to the version you downloaded):

<pre>
cd ~/src/geocouch/
export COUCH_SRC=~/src/couchdb-1.4.0/src/couchdb
git checkout couchdb1.3.x
make
</pre>

NB: as of 2013-12, Debian unstable had CouchDB 1.4, although CouchDB 2.x now exists. GeoCouch must be built against the same version of CouchDB. There wasn't a 1.4 branch of geocouch, but it seems to compile correctly with the 1.3 branch, To see the available GeoCouch branches available, type "git branch -v -r".

After compilation, you probably want to install it somewhere outside a user directory, ex:

<pre>
sudo cp -r ebin /usr/local/lib/couchdb-geocouch
</pre>

And tell erlang ("man erl") to add that to the "code path". In Debian, this can be done in the /etc/default/couchdb file:

<pre>
ERL_FLAGS="-pa /usr/local/lib/couchdb-geocouch"
</pre>

Restart couchdb to make sure everything is OK:

<pre>
sudo service couchdb restart
</pre>

References:

* [[https://github.com/couchbase/geocouch/]]
* [[http://wiki.openstreetmap.org/wiki/OSMCouch#CouchDB_and_GeoCouch]]

## libremap-api installation

This assumes that you have completed the GeoCouch installation.

Install the requirements:

<pre>
sudo apt-get install nodejs
sudo npm install -g grunt-cli
</pre>

NB: npm installs modules to /usr/local/lib/node_modules/.

Install and compile libremap-api:

<pre>
cd ~/src/
git clone git://github.com/libremap/libremap-api.git
cd libremap-api
npm install
</pre>

(incomplete.. more todo)

References:

* [[https://github.com/libremap/libremap-api/blob/master/doc-install.md]]
* [[http://internshipua.blogspot.be/2013/11/libremap-installation-ubuntu-1304.html]]
