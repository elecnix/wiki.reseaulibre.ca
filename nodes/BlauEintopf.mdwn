[[!waypoint  lat="45.466301" lon="-73.623719" embed hidden width="400px" height="400px" right desc="A node on my roof"]]

# Technical details

[[!ymlfront data="""
MAC: 00:27:22:2E:BD:0C
IP: 172.16.0.30
IPv6: 
"""]]

hostname
: BlauEintopf

MAC address
: {{$MAC}}

IPv6 address
: {{$IPv6}}

IP address
: {{$IP}}

Software
: OpenWRT

Hardware
: Ubiquity Bullet M2 + 15 dBi Hyperlink Tech omnidirectional antenna

Power
: 30dBm/1000mW (default)

Location
: 10 feet up on a pole, on top of the third floor

Azimuth
: 360°

Panorama
: N/A

Status
: [[!taglink up]]

Operator
: [[users/RagoutBleu]]

Links
: [[BlauEintopf-rtr]], [[BlauEintopf-AP]]


## UCI Config Dump

    batman-adv.bat0=mesh
    batman-adv.bat0.interfaces=wlan0 br-lan
    
    dhcp.@dnsmasq[0]=dnsmasq
    dhcp.@dnsmasq[0].domainneeded=1
    dhcp.@dnsmasq[0].boguspriv=1
    dhcp.@dnsmasq[0].filterwin2k=0
    dhcp.@dnsmasq[0].localise_queries=1
    dhcp.@dnsmasq[0].rebind_protection=1
    dhcp.@dnsmasq[0].rebind_localhost=1
    dhcp.@dnsmasq[0].local=/lan/
    dhcp.@dnsmasq[0].domain=lan
    dhcp.@dnsmasq[0].expandhosts=1
    dhcp.@dnsmasq[0].nonegcache=0
    dhcp.@dnsmasq[0].authoritative=1
    dhcp.@dnsmasq[0].readethers=1
    dhcp.@dnsmasq[0].leasefile=/tmp/dhcp.leases
    dhcp.@dnsmasq[0].resolvfile=/tmp/resolv.conf.auto
    
    dhcp.lan=dhcp
    dhcp.lan.interface=lan
    dhcp.lan.start=100
    dhcp.lan.limit=150
    dhcp.lan.leasetime=12h
    dhcp.lan.ignore=1
    dhcp.wan=dhcp
    dhcp.wan.interface=wan
    dhcp.wan.ignore=1
    
    dropbear.@dropbear[0]=dropbear
    dropbear.@dropbear[0].PasswordAuth=on
    dropbear.@dropbear[0].RootPasswordAuth=on
    dropbear.@dropbear[0].Port=22
    
    firewall.@defaults[0]=defaults
    firewall.@defaults[0].syn_flood=1
    firewall.@defaults[0].input=ACCEPT
    firewall.@defaults[0].output=ACCEPT
    firewall.@defaults[0].forward=REJECT
    firewall.@zone[0]=zone
    firewall.@zone[0].name=lan
    firewall.@zone[0].network=lan
    firewall.@zone[0].input=ACCEPT
    firewall.@zone[0].output=ACCEPT
    firewall.@zone[0].forward=REJECT
    firewall.@zone[1]=zone
    firewall.@zone[1].name=wan
    firewall.@zone[1].network=wan
    firewall.@zone[1].input=REJECT
    firewall.@zone[1].output=ACCEPT
    firewall.@zone[1].forward=REJECT
    firewall.@zone[1].masq=1
    firewall.@zone[1].mtu_fix=1
    firewall.@forwarding[0]=forwarding
    firewall.@forwarding[0].src=lan
    firewall.@forwarding[0].dest=wan
    firewall.@rule[0]=rule
    firewall.@rule[0].name=Allow-DHCP-Renew
    firewall.@rule[0].src=wan
    firewall.@rule[0].proto=udp
    firewall.@rule[0].dest_port=68
    firewall.@rule[0].target=ACCEPT
    firewall.@rule[0].family=ipv4
    firewall.@rule[1]=rule
    firewall.@rule[1].name=Allow-Ping
    firewall.@rule[1].src=wan
    firewall.@rule[1].proto=icmp
    firewall.@rule[1].icmp_type=echo-request
    firewall.@rule[1].family=ipv4
    firewall.@rule[1].target=ACCEPT
    firewall.@rule[2]=rule
    firewall.@rule[2].name=Allow-DHCPv6
    firewall.@rule[2].src=wan
    firewall.@rule[2].proto=udp
    firewall.@rule[2].src_ip=fe80::/10
    firewall.@rule[2].src_port=547
    firewall.@rule[2].dest_ip=fe80::/10
    firewall.@rule[2].dest_port=546
    firewall.@rule[2].family=ipv6
    firewall.@rule[2].target=ACCEPT
    firewall.@rule[3]=rule
    firewall.@rule[3].name=Allow-ICMPv6-Input
    firewall.@rule[3].src=wan
    firewall.@rule[3].proto=icmp
    firewall.@rule[3].icmp_type=echo-request echo-reply destination-unreachable packet-too-big time-exceeded bad-header unknown-header-type router-solicitation neighbour-solicitation router-advertisement neighbour-advertisement
    firewall.@rule[3].limit=1000/sec
    firewall.@rule[3].family=ipv6
    firewall.@rule[3].target=ACCEPT
    firewall.@rule[4]=rule
    firewall.@rule[4].name=Allow-ICMPv6-Forward
    firewall.@rule[4].src=wan
    firewall.@rule[4].dest=*
    firewall.@rule[4].proto=icmp
    firewall.@rule[4].icmp_type=echo-request echo-reply destination-unreachable packet-too-big time-exceeded bad-header unknown-header-type
    firewall.@rule[4].limit=1000/sec
    firewall.@rule[4].family=ipv6
    firewall.@rule[4].target=ACCEPT
    firewall.@include[0]=include
    firewall.@include[0].path=/etc/firewall.user
    
    luci.main=core
    luci.main.lang=auto
    luci.main.mediaurlbase=/luci-static/openwrt.org
    luci.main.resourcebase=/luci-static/resources
    luci.flash_keep=extern
    luci.flash_keep.uci=/etc/config/
    luci.flash_keep.dropbear=/etc/dropbear/
    luci.flash_keep.openvpn=/etc/openvpn/
    luci.flash_keep.passwd=/etc/passwd
    luci.flash_keep.opkg=/etc/opkg.conf
    luci.flash_keep.firewall=/etc/firewall.user
    luci.flash_keep.uploads=/lib/uci/upload/
    luci.languages=internal
    luci.languages.en=English
    luci.sauth=internal
    luci.sauth.sessionpath=/tmp/luci-sessions
    luci.sauth.sessiontime=3600
    luci.ccache=internal
    luci.ccache.enable=1
    luci.themes=internal
    luci.themes.OpenWrt=/luci-static/openwrt.org
    
    network.loopback=interface
    network.loopback.ifname=lo
    network.loopback.proto=static
    network.loopback.ipaddr=127.0.0.1
    network.loopback.netmask=255.0.0.0
    
    network.lan=interface
    network.lan.type=bridge
    network.lan.proto=static
    network.lan.ifname=eth0 bat0
    network.lan.netmask=255.240.0.0
    network.lan.gateway=172.16.0.1
    network.lan.dns=172.16.0.1
    network.lan.ipaddr=172.16.0.30
    
    network.wlan0=interface
    network.wlan0.ifname=wlan0
    network.wlan0.proto=none
    network.wlan0.mtu=1528
    
    network.bat0=interface
    network.bat0.ifname=bat0
    network.bat0.proto=none
    network.bat0.mtu=1500
    
    radvd.@interface[0]=interface
    radvd.@interface[0].interface=lan
    radvd.@interface[0].AdvSendAdvert=1
    radvd.@interface[0].AdvManagedFlag=0
    radvd.@interface[0].AdvOtherConfigFlag=0
    radvd.@interface[0].client=
    radvd.@interface[0].ignore=1
    radvd.@prefix[0]=prefix
    radvd.@prefix[0].interface=lan
    radvd.@prefix[0].prefix=
    radvd.@prefix[0].AdvOnLink=1
    radvd.@prefix[0].AdvAutonomous=1
    radvd.@prefix[0].AdvRouterAddr=0
    radvd.@prefix[0].ignore=1
    radvd.@route[0]=route
    radvd.@route[0].interface=lan
    radvd.@route[0].prefix=
    radvd.@route[0].ignore=1
    radvd.@rdnss[0]=rdnss
    radvd.@rdnss[0].interface=lan
    radvd.@rdnss[0].addr=
    radvd.@rdnss[0].ignore=1
    radvd.@dnssl[0]=dnssl
    radvd.@dnssl[0].interface=lan
    radvd.@dnssl[0].suffix=
    radvd.@dnssl[0].ignore=1
    
    system.@system[0]=system
    system.@system[0].hostname=BlauEintopf
    system.@system[0].zonename=UTC
    system.@system[0].timezone=GMT0
    system.@system[0].conloglevel=8
    system.@system[0].cronloglevel=8
    
    system.ntp=timeserver
    system.ntp.server=0.openwrt.pool.ntp.org 1.openwrt.pool.ntp.org 2.openwrt.pool.ntp.org 3.openwrt.pool.ntp.org
    system.ntp.enable_server=0
    
    ucitrack.@network[0]=network
    ucitrack.@network[0].init=network
    ucitrack.@network[0].affects=dhcp radvd
    ucitrack.@wireless[0]=wireless
    ucitrack.@wireless[0].affects=network
    ucitrack.@firewall[0]=firewall
    ucitrack.@firewall[0].init=firewall
    ucitrack.@firewall[0].affects=luci-splash qos miniupnpd
    ucitrack.@olsr[0]=olsr
    ucitrack.@olsr[0].init=olsrd
    ucitrack.@dhcp[0]=dhcp
    ucitrack.@dhcp[0].init=dnsmasq
    ucitrack.@dropbear[0]=dropbear
    ucitrack.@dropbear[0].init=dropbear
    ucitrack.@httpd[0]=httpd
    ucitrack.@httpd[0].init=httpd
    ucitrack.@fstab[0]=fstab
    ucitrack.@fstab[0].init=fstab
    ucitrack.@qos[0]=qos
    ucitrack.@qos[0].init=qos
    ucitrack.@system[0]=system
    ucitrack.@system[0].init=led
    ucitrack.@system[0].affects=luci_statistics
    ucitrack.@luci_splash[0]=luci_splash
    ucitrack.@luci_splash[0].init=luci_splash
    ucitrack.@upnpd[0]=upnpd
    ucitrack.@upnpd[0].init=miniupnpd
    ucitrack.@ntpclient[0]=ntpclient
    ucitrack.@ntpclient[0].init=ntpclient
    ucitrack.@samba[0]=samba
    ucitrack.@samba[0].init=samba
    ucitrack.@tinyproxy[0]=tinyproxy
    ucitrack.@tinyproxy[0].init=tinyproxy
    ucitrack.@radvd[0]=radvd
    ucitrack.@radvd[0].init=radvd
    
    uhttpd.main=uhttpd
    uhttpd.main.listen_http=0.0.0.0:80
    uhttpd.main.listen_https=0.0.0.0:443
    uhttpd.main.home=/www
    uhttpd.main.rfc1918_filter=1
    uhttpd.main.max_requests=3
    uhttpd.main.cert=/etc/uhttpd.crt
    uhttpd.main.key=/etc/uhttpd.key
    uhttpd.main.cgi_prefix=/cgi-bin
    uhttpd.main.script_timeout=60
    uhttpd.main.network_timeout=30
    uhttpd.main.tcp_keepalive=1
    uhttpd.px5g=cert
    uhttpd.px5g.days=730
    uhttpd.px5g.bits=1024
    uhttpd.px5g.country=DE
    uhttpd.px5g.state=Berlin
    uhttpd.px5g.location=Berlin
    uhttpd.px5g.commonname=OpenWrt
    
    wireless.radio0=wifi-device
    wireless.radio0.type=mac80211
    wireless.radio0.macaddr=00:27:22:2e:bd:0c
    wireless.radio0.hwmode=11ng
    wireless.radio0.htmode=HT20
    wireless.radio0.ht_capab=SHORT-GI-40 TX-STBC RX-STBC1 DSSS_CCK-40
    wireless.radio0.channel=1
    wireless.@wifi-iface[0]=wifi-iface
    wireless.@wifi-iface[0].device=radio0
    wireless.@wifi-iface[0].encryption=none
    wireless.@wifi-iface[0].mode=adhoc
    wireless.@wifi-iface[0].bssid=02:CA:FF:EE:BA:BE
    wireless.@wifi-iface[0].ssid=relais.reseaulibre.ca

[[!meta copyright="Copyright © 2011 Blau Eintopf"]]

[[!meta license="""[[!toggle id="license" text="GFDL 1.2+"]][[!toggleable
id="license" text="Permission is granted to copy, distribute and/or modify this
document under the terms of the GNU Free Documentation License, Version 1.2 or
any later version published by the Free Software Foundation; with no Invariant
Sections, no Front-Cover Texts, and no Back-Cover Texts.  A copy of the license
is included in the section entitled [[GNU Free Documentation
License|meta/gfdl]]."]]"""]]
