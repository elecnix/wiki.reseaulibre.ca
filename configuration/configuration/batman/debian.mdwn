[[!meta title="Batman on Debian"]]

This page is about installing B.A.T.M.A.N. on Debian. For other target installations, see the [[Batman Configuration|configuration/batman]] page.

Sous Debian/Ubuntu, installer le package Debian pour batctl (gestion des configurations)

    sudo apt-get install batctl

Idéalement il faut aussi un noyau Linux qui est à jour. Pour nos tests, ça fonctionnait très bien avec linux 3.2, avec batctl version 2012.0.0.

Par exemple:

    uname -a
    apt-cache search linux-image-3
    sudo apt-get install linux-image-3.2.0-1-686-pae

Si vous avez mis à jour votre noyau, il faut redémarrer la machine.

Activer le module kernel (la majorité des distributions Linux ont ce module par défaut)

    modprobe batman-adv

Configurer l'interface physique wifi pour le mode adhoc du mesh. Il faut probablement désactiver network-manager.

    sudo /etc/init.d/network-manager stop
    iwconfig wlan0  mode ad-hoc  channel 1  essid mesh-mtl  ap 02:51:48:72:03:11

Configurer l'interface réseau, il faut augmenter le MTU car les "packets" de Batman ajoutent des données aux frames ethernet:

    ifconfig wlan0 mtu 1528 192.168.8.2 up

Ajouter l'interface à Batman:

    batctl if add wlan0
