Idée de politique à deux niveaux
================================

Une idée est d'avoir le réseau en deux niveaux: un niveau "global" où on
a des "relais" interconnectés par BATMAN ou autre, mais qui est
globalement routable et accessible seulement aux nodes documentés dans
le wiki, et un autre niveau de nodes (les "AP"s) qui donnent accès internet général à n'importe qui qui a un ordinateur, sans configuration spéciale.

Ceci pourrait avoir l'air de ceci dans le cas le plus simple:

[[!graph type="graph" src="""
relaiA -- relaiB; relaiB -- relaiC; relaiC -- relaiA; relaiC -- relaiD; relaiD -- relaiB;
relaiA -- APh;
relaiC -- APf; relaiC -- APg;
relaiD -- APe;
APe -- client1; APe -- client2; APe -- client3;
APf -- client4; APf -- client5
"""]]

On note que les nodes nommés `relai` sont toutes (ou presque)
interconnectées, alors que les `AP` sont connectés seulement à un relai. 

Dans l'exemple ci-haut, on pourrait dire que [[nodes/boulette]] est comme `relaiA` et que [[nodes/carton]] est comme `APh`.

Différentes politiques...
-------------------------

Les relais doivent suivre la politique suivante:

 * configuration mesh ([[configuration/batman]] ou
   [[configuration/olsr]], selon le voisinage)
 * assignation IP statique, selon [[numbering]]
 * pas de serveur DHCP sur le mesh
 * enregistrement sur le wiki, dans la section [[nodes]]
 * respect de la [[policy]] générale

Les APs, en plus de la politique ci-haut, peuvent offrir des services
supplémentaires à leur clients (mais pas au mesh!!):

 * serveur DHCP *local*
 * allocation d'un bloc d'IPv6 du mesh pour le réseau local, donc globalement routable dans le mesh, sinon:
 * utilisation d'un bloc privé [[!rfc 1918]] pour le IPv4 local (suggestion: `192.168.3.x/24`), donc non globalement routable dans le mesh, donc NAT
