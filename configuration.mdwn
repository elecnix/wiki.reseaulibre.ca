[[!toc levels=3]]

# Configuration guides

This page details how to configure your [[hardware]] for operation in
the mesh.

## General instructions

Those instructions attempt to be platform-independent or at least cover multiple platforms. This 4 step process should get you on the mesh, with full internet access if you are so privileged.

1. [[!traillink configuration/flashing]] - flashing your device with the proper firmware (optional - if you already have the software on your machine, just go to step 2)
2. [[!traillink configuration/ad-hoc]] - basic point to point configuration
3. [[!traillink configuration/olsrd]] or [[batman]] - configuring mesh software for interconnexion
4. [[!traillink configuration/ip]] - adress allocation on the network and connexion with the outside world
4. [[!traillink configuration/vpn]] - configuring OpenVPN to be able to access the gateways to the real internet

## Specific instructions

Those instructions are more specific to some platforms.

* [[configuration/ubnt-ad-hoc]] - configuration ad-hoc de base, sans mesh, sur une station Ubiquiti
* [[configuration/olsr+ipv6]] - configuration avec OLSR, IPv6 sur un [[nanostation]]
* [[configuration/robin]] - configuration d'une machine avec [[robin]]

# Architectural design

## Network topology

We need to decide of a topology. Opennet has an interesting concept, where public IPs are hidden behind VPN gateways:

<https://wiki.opennet-initiative.de/w/images/3/3d/Opennet-Struktur-VPNGateways.png>

This has a few advantages:

 1. strong over-the-air encryption
 2. no need to change gateway if network topology changes
 3. access to the internet only to subscribers

We are also considering ad-hoc mode and OLSR, see [[todo/network_topology]].

## IP allocation

`10.0.0.0/8` so far, see the [[nodes]] pages for allocation. [[configuration/ipv6]] considered, see [[todo/numbering_policy]] for details.

[[!table class="pagecloud" data="""
IP | Hardware | wifi MAC | Location
192.168.3.88 | Linksys WRT54G | 00:25:9c:5e:44:59 | elecnix/grace
192.168.3.89 | Linksys WRT54G | 00:13:10:1b:6d:dd | elecnix/pierre
192.168.3.90 | Bullet M2 #2 | | Sur le toit chez anarcat
192.168.3.91 | Bullet M2 #1 | 
192.168.3.92 | PicoStation M2 | 00:15:6d:81:e0:5b
192.168.3.93 | NanoStation M2 | 00:15:6d:fc:be:90
192.168.3.94 | NanoBridge | 00:15:6d:5a:f7:27
"""]]

[[!meta copyright="Copyright © 2011 Antoine Beaupré"]]

[[!meta license="""[[!toggle id="license" text="GFDL 1.2+"]][[!toggleable
id="license" text="Permission is granted to copy, distribute and/or modify this
document under the terms of the GNU Free Documentation License, Version 1.2 or
any later version published by the Free Software Foundation; with no Invariant
Sections, no Front-Cover Texts, and no Back-Cover Texts.  A copy of the license
is included in the section entitled [[GNU Free Documentation
License|meta/gfdl]]."]]"""]]
